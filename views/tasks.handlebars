<head>
  <title>To-Do List with Kanban Board</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/todo.css">
</head>

  <div class="container mt-5">
    <div class="card">
      <div class="card-header text-center">
        <h1>To-Do List</h1>
      </div>
      <div class="card-body">
        <form id="task-form" method="POST" action="/api/tasks" class="input-group mb-3">
          <input type="text" id="task" name="task" class="form-control" placeholder="Add a new task" required>
          <div class="input-group-append">
            <button class="btn btn-primary" type="submit">Add Task</button>
          </div>
        </form>
        <div class="kanban-board">
          <div class="row">
            <div class="col-md-4">
              <div class="kanban-column">
                <h3>To Do</h3>
                <ul id="todo-list" class="list-group">
                  {{#each tasks as |task|}}
                    {{#unless task.completed}}
                      {{#unless task.inProgress}}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                          {{task.task}}
                          <div>
                            <input type="checkbox" class="mr-2" {{#if task.completed}}checked{{/if}} data-id="{{task.id}}">
                            <button class="btn btn-danger btn-sm" data-id="{{task.id}}">Delete</button>
                          </div>
                        </li>
                      {{/unless}}
                    {{/unless}}
                  {{/each}}
                </ul>
              </div>
            </div>
            <div class="col-md-4">
              <div class="kanban-column">
                <h3>In Progress</h3>
                <ul id="inprogress-list" class="list-group">
                  {{#each tasks as |task|}}
                    {{#if task.inProgress}}
                      {{#unless task.completed}}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                          {{task.task}}
                          <div>
                            <input type="checkbox" class="mr-2" {{#if task.completed}}checked{{/if}} data-id="{{task.id}}">
                            <button class="btn btn-danger btn-sm" data-id="{{task.id}}">Delete</button>
                          </div>
                        </li>
                      {{/unless}}
                    {{/if}}
                  {{/each}}
                </ul>
              </div>
            </div>
            <div class="col-md-4">
              <div class="kanban-column">
                <h3>Done</h3>
                <ul id="done-list" class="list-group">
                  {{#each tasks as |task|}}
                    {{#if task.completed}}
                      <li class="list-group-item d-flex justify-content-between align-items-center">
                        {{task.task}}
                        <div>
                          <input type="checkbox" class="mr-2" {{#if task.completed}}checked{{/if}} data-id="{{task.id}}">
                          <button class="btn btn-danger btn-sm" data-id="{{task.id}}">Delete</button>
                        </div>
                      </li>
                    {{/if}}
                  {{/each}}
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer text-center">
        <form id="logout-form" method="POST" action="/api/users/logout">
          <button class="btn btn-secondary" type="submit">Logout</button>
        </form>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/js/deletetask.js"></script>